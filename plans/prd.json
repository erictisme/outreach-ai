{
  "project": "outreach-v2",
  "description": "Table-centric B2B outreach tool. Main table (right) + collapsible wizard panel (left). One page per project.",
  "architecture": "Two-column layout: WizardPanel (collapsible accordion) + DataTable (source of truth)",
  "tech_stack": {
    "framework": "Next.js 14 App Router",
    "database": "Supabase (existing schema)",
    "styling": "Tailwind CSS",
    "state": "React useState + Supabase for persistence"
  },
  "existing_apis_to_use": [
    "/api/extract",
    "/api/generate-list",
    "/api/enrich-companies",
    "/api/find-contacts-apollo",
    "/api/write-emails",
    "/api/refine-email",
    "/api/draft-response"
  ],
  "features": [
    {
      "id": "F27",
      "name": "Fix contact finding - too few results",
      "priority": 27,
      "passes": true,
      "description": "Debug and fix contact finding - currently only finding 1 contact from 25 companies",
      "steps": [
        "Review /api/find-contacts-free implementation - check if it's actually searching",
        "Add detailed logging to see what's being searched and returned",
        "Check if target roles from context are being passed correctly",
        "Ensure each company is being searched individually, not batched incorrectly",
        "If using Gemini/AI search, ensure prompt asks for MULTIPLE contacts per company",
        "Add fallback: if AI finds 0, try different search terms (company + 'leadership team')",
        "Test with real companies to verify improvement",
        "Target: at least 2-3 contacts per company on average"
      ],
      "acceptance": "Contact finding returns multiple contacts per company, not 1 total from 25"
    },
    {
      "id": "F28",
      "name": "Full screen wizard layout",
      "priority": 28,
      "passes": true,
      "description": "Change from side-by-side to full screen wizard with table toggle",
      "steps": [
        "Remove two-column layout from project page",
        "Wizard steps take full screen width",
        "Add 'View Table' toggle button in header (or floating button)",
        "When toggled, show DataTable full screen (hide wizard)",
        "Toggle button shows current view and allows switching back",
        "Remember last view preference in localStorage",
        "Smooth transition between views (fade or slide)",
        "On mobile, same behavior (full screen for both)"
      ],
      "acceptance": "Wizard is full screen by default, can toggle to full screen table"
    },
    {
      "id": "F29",
      "name": "Full screen email conversations",
      "priority": 29,
      "passes": true,
      "description": "Change conversation from modal to full screen page",
      "steps": [
        "Create src/app/project/[id]/conversation/[contactId]/page.tsx",
        "Move ConversationModal content to this page",
        "Full screen layout with contact info header",
        "Thread view takes most of screen",
        "Reply/generate section at bottom (sticky)",
        "Back button returns to emails step or table",
        "Update 'Enter Conversation' buttons to navigate to this page instead of opening modal",
        "Keep conversation data synced with Supabase"
      ],
      "acceptance": "Email conversations are full screen pages, not modals"
    },
    {
      "id": "F30",
      "name": "Final polish and build verification",
      "priority": 30,
      "passes": true,
      "description": "Final cleanup and verification after UX changes",
      "steps": [
        "Run pnpm build - must pass with no errors",
        "Run pnpm lint - fix any warnings",
        "Test full flow: create project -> setup -> context -> companies -> contacts -> emails -> conversation",
        "Verify wizard full screen works",
        "Verify table toggle works",
        "Verify conversation full screen works",
        "Verify data persists after page refresh",
        "Remove any console.log statements"
      ],
      "acceptance": "Build passes, full flow works with new full-screen UX"
    }
  ]
}