{
  "project": "outreach-v2",
  "description": "B2B outreach tool - bug fixes round 4",
  "features": [
    {
      "id": "F42",
      "name": "Fix contact loading error",
      "priority": 42,
      "passes": true,
      "description": "Console error: Error loading contacts: {} - empty error object in ContactsStep.tsx",
      "steps": [
        "In ContactsStep.tsx line 66: check what loadError actually contains",
        "The error object is empty {} - investigate why Supabase query fails silently",
        "Check if project_id is being passed correctly to the query",
        "Add proper error message extraction: loadError?.message || JSON.stringify(loadError)",
        "Handle case where contacts table doesn't exist or has no rows gracefully",
        "Test: load step 4, verify no console error"
      ],
      "acceptance": "No console error when loading contacts step"
    },
    {
      "id": "F43",
      "name": "Clickable target role suggestions",
      "priority": 43,
      "passes": true,
      "description": "Target roles should show clickable suggestions that user can add",
      "steps": [
        "In ContextStep.tsx: Add suggested roles below the Target Roles input",
        "Show common roles as clickable chips: CEO, CFO, COO, VP Sales, Director, Buyer, Category Manager, Purchasing Manager, Partnership Manager, Business Development, Merchandiser",
        "Click chip adds role to the list (if not already present)",
        "Already-added roles show as disabled or hidden in suggestions",
        "Make suggestions context-aware if possible (retail industry: Merchandiser, Store Manager)"
      ],
      "acceptance": "Can click suggested roles to add them quickly"
    },
    {
      "id": "F44",
      "name": "Add custom search criteria column",
      "priority": 44,
      "passes": true,
      "description": "Allow adding criteria like 'products sold' to filter/describe companies",
      "steps": [
        "In ContextStep.tsx: Add 'Product/Service Focus' text field",
        "Example: 'sells porcelain plates', 'carries tableware', 'luxury homeware'",
        "Pass this to /api/generate-list as product_focus parameter",
        "Update generate-list prompt to prioritize companies matching this criteria",
        "In company results, show relevance to product focus",
        "Save to project.schema_config.productFocus"
      ],
      "acceptance": "Can specify product criteria, companies are filtered accordingly"
    },
    {
      "id": "F45",
      "name": "Fix company LinkedIn links",
      "priority": 45,
      "passes": false,
      "description": "LinkedIn links for companies are broken/missing",
      "steps": [
        "In /api/generate-list: Update prompt to return LinkedIn company URLs",
        "Format: https://linkedin.com/company/[slug]",
        "In CompaniesStep table: Ensure LinkedIn column renders as clickable link",
        "If API doesn't return LinkedIn, try constructing from company name slug",
        "Links should open in new tab with target=_blank",
        "Show '-' only if truly unavailable"
      ],
      "acceptance": "Company LinkedIn links work correctly"
    },
    {
      "id": "F46",
      "name": "Fix Apollo API and contact data quality",
      "priority": 46,
      "passes": false,
      "description": "Apollo API using wrong params, contacts show undefined names",
      "steps": [
        "In /api/find-contacts-apollo: Fix API call to use CORRECT format:",
        "  - Endpoint: POST https://api.apollo.io/api/v1/mixed_people/api_search",
        "  - Use 'q_organization_domains': domain (STRING not array)",
        "  - Use 'person_titles': ['CEO', 'Founder', 'Director', etc]",
        "  - Headers: X-Api-Key (not in body)",
        "Response has 'people' array with: first_name, last_name_obfuscated, title, has_email",
        "To get emails: call /api/v1/people/match with first_name, last_name, organization_domain",
        "In ContactsStep: combine first_name + last_name (not obfuscated) for display",
        "Remove duplicates, validate names are complete"
      ],
      "acceptance": "Apollo returns real contacts with proper names"
    },
    {
      "id": "F47",
      "name": "Add checkbox selection to contacts before email enrichment",
      "priority": 47,
      "passes": false,
      "description": "User must select which contacts to enrich with emails",
      "steps": [
        "In ContactsStep.tsx: Add checkbox column to contacts table as FIRST column",
        "Header checkbox for select all / deselect all",
        "Track selected contact IDs in state",
        "Show selection count: 'X of Y contacts selected'",
        "'Find Emails' button only enriches SELECTED contacts",
        "Show cost estimate: 'Enrich X contacts'",
        "Disable Find Emails button if none selected"
      ],
      "acceptance": "Can select specific contacts, only selected get email enrichment"
    },
    {
      "id": "F48",
      "name": "Final verification",
      "priority": 48,
      "passes": false,
      "description": "Build passes, all fixes verified",
      "steps": [
        "Run pnpm build - must pass",
        "Test: no console error on contacts step",
        "Test: role suggestions clickable",
        "Test: product criteria field works",
        "Test: company LinkedIn links work",
        "Test: contact names are complete, no undefined",
        "Test: contact selection works for email enrichment"
      ],
      "acceptance": "All F42-F47 verified working"
    }
  ]
}
